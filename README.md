# 图片批量水印工具

这是一个 Python 脚本，可以为指定目录下的所有图片批量添加水印。您可以选择使用图片的 EXIF 拍摄日期作为水印，也可以自定义水印文本。

## 功能特性

- **两种水印模式**:
    - **自动日期水印**: 自动读取图片元数据（EXIF）中的拍摄日期作为水印。
    - **自定义文本水印**: 支持用户输入任意文字作为水印。
- **高度可定制**: 用户可以自由设置水印的字体大小、颜色和在图片上的位置。
- **批量处理**: 一次性处理文件夹内的所有图片（支持 `.png`, `.jpg`, `.jpeg` 格式）。
- **安全无损**: 添加水印后的图片会保存在一个新的子目录中（原目录名 + `_watermark`），不会覆盖或修改原始图片。
- **用户友好**: 命令行界面提供中文提示，简单易用。

## 环境要求

- Python 3
- Pillow 库

在运行脚本前，请确保已经安装 Pillow 库。如果尚未安装，请执行以下命令：

```bash
pip install Pillow
```

## 使用方法

1.  **运行脚本**:
    在终端中执行以下命令来启动脚本：
    ```bash
    python watermark.py [可选参数]
    ```

2.  **输入目录**:
    脚本启动后，会提示您输入需要处理的图片所在的目录路径。
    ```
    请输入图片所在目录的路径: [这里输入您的图片文件夹路径]
    ```

## 可选参数

您可以在运行脚本时添加以下参数来自定义水印效果：

-   `--text <文本>`: 指定自定义的水印文字。如果忽略此参数，脚本将默认尝试读取照片的拍摄日期。
-   `--font_size <数字>`: 设置水印的字体大小。默认为 `50`。
-   `--color <颜色>`: 设置水印的文本颜色。可以是颜色名称（如 `white`, `black`, `red`）或十六进制颜色码（如 `#FF0000`）。默认为 `white`。
-   `--position <位置>`: 指定水印在图片上的位置。默认为 `bottom_right` (右下角)。
    -   可选值:
        -   `top_left` (左上角)
        -   `top_right` (右上角)
        -   `bottom_left` (左下角)
        -   `bottom_right` (右下角)
        -   `center` (居中)

## 使用示例

### 示例 1: 使用自定义文字作为水印

假设您想给 `D:\旅行照片` 目录下的所有图片添加红色的文字“2024 快乐假期”，字体大小为 80，并放置在图片中央。

```bash
python watermark.py --text "2024 快乐假期" --font_size 80 --color red --position center
```

之后，根据提示输入目录路径 `D:\旅行照片`。处理完成后，带水印的图片将保存在 `D:\旅行照片\旅行照片_watermark` 目录中。

### 示例 2: 使用照片的拍摄日期作为水印

如果您想使用照片自带的拍摄日期作为水印，并将水印放在左下角。

```bash
python watermark.py --position bottom_left
```

然后输入图片目录路径即可。脚本会自动为每张照片添加其对应的拍摄日期水印。
